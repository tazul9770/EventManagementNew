{% extends "admin/admin_dashboard.html" %}
{% block content %}
<div class="w-full max-w-4xl mx-auto my-8 p-6 bg-white rounded-lg shadow-lg">
    <h2 class="text-3xl font-extrabold text-gray-800 mb-6 text-center">
        Groups & Permissions
    </h2>

    <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-sm">
        <table class="w-full border-collapse">
            <thead>
                <tr class="bg-gradient-to-r from-indigo-500 to-blue-600 text-white">
                    <th class="px-6 py-3 text-left text-lg font-semibold">Group Name</th>
                    <th class="px-6 py-3 text-left text-lg font-semibold">Permissions</th>
                </tr>
            </thead>
            <tbody>
                {% for group in groups %}
                <tr class="odd:bg-gray-50 even:bg-gray-100 hover:bg-indigo-100 transition">
                    <td class="px-6 py-3 font-medium text-gray-800">{{ group.name }}</td>
                    <td class="px-6 py-3 text-gray-700">
                        {% if group.permissions.all %}
                        <ul class="list-disc list-inside space-y-1">
                            {% for permission in group.permissions.all %}
                            <li class="text-gray-600">
                                <span class="font-semibold text-indigo-600">{{ permission.name }}</span> 
                                <span class="text-gray-500">({{ permission.codename }})</span>
                            </li>
                            {% endfor %}
                        </ul>
                        {% else %}
                        <div class="flex items-center text-gray-500 italic">
                            <svg class="h-5 w-5 mr-2 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 14l6-6m0 0l-6-6m6 6H3"></path>
                            </svg>
                            No permissions assigned
                        </div>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2" class="px-6 py-4 text-center text-gray-500 italic">
                        No groups available.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock content %}
